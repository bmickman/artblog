$(document).ready(function(){"use strict";var e,t,s=$(".top-nav"),h=$(".nav__icon-menu"),u=$(".ion-md-close"),a=$(".nav__icon-search"),i=$(".search__close"),n=$(".search");o();function o(){var e;$(window).scroll(function(){var t=$(this).scrollTop();t>e&&e>70?$(".header").addClass("is-hide"):$(".header").removeClass("is-hide"),e=t})}h.click(function(){r()}),u.click(function(){c()}),a.click(function(){l()}),i.click(function(){d()});function r(){s.addClass("is-visible")}function c(){s.removeClass("is-visible")}function l(){n.addClass("is-visible"),setTimeout(function(){searchInput.focus()},300)}function d(){n.removeClass("is-visible")}$(".search, .search__box").on("click keyup",function(e){(e.target==this||e.keyCode==27)&&$(".search").removeClass("is-visible")}),e=$(".grid").masonry({itemSelector:".grid__post",percentPosition:!0}),e.imagesLoaded().progress(function(){e.masonry("layout")}),t=$(".load-more-posts"),t.click(function(n){n.preventDefault();var s=$(".load-more-section"),o=pagination_next_url.split("/page")[0]+"/page/"+pagination_next_page_number+"/";$.ajax({url:o,beforeSend:function(){t.text("Loading...")}}).done(function(n){var o=$(".grid__post",n);$(".grid").append(o).masonry("appended",o),e.imagesLoaded().progress(function(){e.masonry("layout")}),$(".fadein").addClass("inview"),t.text("Load Posts ").append('<i class="ion ion-ios-arrow-down"></i>'),pagination_next_page_number++,pagination_next_page_number>pagination_available_pages_number&&s.addClass("hide")})}),$(".post__content, .page__content").fitVids({customSelector:['iframe[src*="ted.com"]','iframe[src*="player.twitch.tv"]','iframe[src*="facebook.com"]']}),$(".page img, .post img").attr("data-action","zoom"),$(".page a img, .post a img").removeAttr("data-action","zoom"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(".fadein").viewportChecker({classToAdd:"inview",offset:100}),$(".home section").hasClass("author")||$(".home .container__inner").addClass("without-author"),$(".top").click(function(){$("html, body").stop().animate({scrollTop:0},"slow","swing")}),$(window).scroll(function(){$(this).scrollTop()>$(window).height()?$(".top").addClass("is-active"):$(".top").removeClass("is-active")})})